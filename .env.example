# =============================================================================
# SHRNKLY ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values.
# NEVER commit .env to version control - it's gitignored for security!
# =============================================================================

# -----------------------------------------------------------------------------
# NODE ENVIRONMENT
# -----------------------------------------------------------------------------
# Description: Current deployment environment
# Required: Yes
# Values: development | staging | production
# Why: Controls error messages, logging, and feature flags
NODE_ENV='development'

# =============================================================================
# PROJECT CONFIGURATION
# =============================================================================
# These values customize your Shrnkly instance branding and contact information.

# Description: Your application's public name
# Required: Yes
# Why: Displayed in page titles, logos, and throughout the UI
# Default: 'Shrnkly'
NEXT_PUBLIC_PROJECT_NAME='Shrnkly'

# Description: Public contact email address
# Required: Yes
# Why: Displayed on contact page and used for support emails
# How to obtain: Use your professional email address
NEXT_PUBLIC_CONTACT_EMAIL='your-email@example.com'

# Description: Your LinkedIn profile URL
# Required: No (but recommended for contact page)
# How to obtain: Go to your LinkedIn profile and copy the URL
# Example: https://linkedin.com/in/yourusername
NEXT_PUBLIC_LINKEDIN_URL='https://linkedin.com/in/yourusername'

# Description: Your GitHub profile or repository URL
# Required: No (but recommended for contact page)
# How to obtain: Go to your GitHub profile/repo and copy the URL
# Example: https://github.com/yourusername
NEXT_PUBLIC_GITHUB_URL='https://github.com/yourusername'

# Description: GitHub repository URL for the project
# Required: No
# Why: Used in footer and about pages
NEXT_PUBLIC_GITHUB_REPO_URL='https://github.com/yourusername/shrnkly'

# Description: GitHub issues page URL
# Required: No
# Why: Link for users to report bugs or request features
NEXT_PUBLIC_GITHUB_ISSUES_URL='https://github.com/yourusername/shrnkly/issues'

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Description: Timeout for API calls in seconds
# Required: Yes
# Why: Prevents hanging requests and improves user experience
# Recommended: 30-120 seconds
API_CALL_TIMEOUT_S='60'

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Description: MongoDB connection string
# Required: Yes
# Why: Stores all application data (users, URLs, text shares, analytics)
# How to obtain:
#   1. Go to https://www.mongodb.com/cloud/atlas/register
#   2. Create a free MongoDB Atlas account
#   3. Create a new cluster (free tier M0 is sufficient for development)
#   4. Click "Connect" → "Connect your application"
#   5. Copy the connection string
#   6. Replace <password> with your database user password
#   7. Replace <dbname> with your database name (e.g., 'shrnkly')
# Format: mongodb+srv://<username>:<password>@cluster0.xxxxx.mongodb.net/<dbname>?retryWrites=true&w=majority
# Security: NEVER commit this to version control!
DATABASE_URL='mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/shrnkly?retryWrites=true&w=majority'

# =============================================================================
# AUTHENTICATION - PASSWORD RESET
# =============================================================================

# Description: Password reset token expiration time in milliseconds
# Required: Yes
# Why: Security measure to limit how long reset tokens are valid
# Recommended: 3600000 (1 hour) to 86400000 (24 hours)
# Default: 3600000 (1 hour)
FORGET_PASSWORD_EXPIRES_MS='3600000'

# =============================================================================
# GOOGLE OAUTH 2.0
# =============================================================================
# Enables users to sign in with their Google account.
# Optional but recommended for better user experience.

# How to set up Google OAuth:
#   1. Go to https://console.cloud.google.com/
#   2. Create a new project or select existing one
#   3. Enable "Google+ API" and "OAuth 2.0"
#   4. Go to "APIs & Services" → "Credentials"
#   5. Click "Create Credentials" → "OAuth client ID"
#   6. Select "Web application"
#   7. Add authorized redirect URI (see NEXT_PUBLIC_GOOGLE_REDIRECT_URI below)
#   8. Copy the Client ID and Client Secret
#   9. Paste them in the variables below

# Description: Google OAuth Client ID
# Required: Only if using Google Sign-In
# How to obtain: Google Cloud Console → APIs & Services → Credentials
GOOGLE_OAUTH_GOOGLE_CLIENT_ID='your-google-client-id.apps.googleusercontent.com'

# Description: Google OAuth Client Secret
# Required: Only if using Google Sign-In
# How to obtain: Google Cloud Console → APIs & Services → Credentials
# Security: Keep this secret! Never expose to client-side code.
GOOGLE_OAUTH_GOOGLE_CLIENT_SECRET='your-google-client-secret'

# Description: OAuth redirect URI after Google authentication
# Required: Only if using Google Sign-In
# How to obtain: Same as above, add this in Google Cloud Console
# Format: https://yourdomain.com/api/v1/auth/google/callback
# Development: http://localhost:3000/api/v1/auth/google/callback
GOOGLE_OAUTH_GOOGLE_REDIRECT_URI='http://localhost:3000/api/v1/auth/google/callback'

# Description: Google OAuth token endpoint URL
# Required: Only if using Google Sign-In
# Default: https://oauth2.googleapis.com/token (don't change unless necessary)
GOOGLE_OAUTH_TOKEN_URL='https://oauth2.googleapis.com/token'

# Description: Google user info endpoint URL
# Required: Only if using Google Sign-In
# Default: https://www.googleapis.com/oauth2/v2/userinfo (don't change)
GOOGLE_OAUTH_USERINFO_URL='https://www.googleapis.com/oauth2/v2/userinfo'

# =============================================================================
# JWT (JSON WEB TOKENS)
# =============================================================================
# Used for session management and API authentication.
# CRITICAL: Use strong, random secrets in production!

# How to generate secure secrets:
#   Option 1 (Node.js): node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#   Option 2 (OpenSSL): openssl rand -hex 64
#   Option 3 (Online): https://generate-secret.vercel.app/64
#   Recommended length: 64 characters (256 bits)

# Description: Secret key for signing access tokens
# Required: Yes
# Why: Validates user authentication tokens
# Security: CRITICAL - Use a strong random string, never commit to git!
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_ACCESS_TOKEN_SECRET='your-super-secret-access-token-key-minimum-64-characters-long'

# Description: Access token expiration time in minutes
# Required: Yes
# Why: Controls how long users stay logged in before needing to refresh
# Recommended: 60 (1 hour) for security, can be higher for personal use
JWT_ACCESS_TOKEN_EXPIRATION_IN_MINUTES='60'

# Description: Secret key for signing refresh tokens
# Required: Yes
# Why: Allows users to get new access tokens without re-login
# Security: CRITICAL - Use a DIFFERENT strong random string from access token secret
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_REFRESH_TOKEN_SECRET='your-super-secret-refresh-token-key-different-from-access-token'

# Description: Refresh token expiration time in minutes
# Required: Yes
# Why: Maximum session duration before requiring re-authentication
# Recommended: 84000 (7 days) to 43200 (30 days)
JWT_REFRESH_TOKEN_EXPIRATION_IN_MINUTES='84000'

# Description: How often to refresh access tokens (client-side) in milliseconds
# Required: Yes
# Why: Proactively refresh tokens before they expire
# Recommended: 3600000 (1 hour) - should be less than JWT_ACCESS_TOKEN_EXPIRATION_IN_MINUTES
NEXT_PUBLIC_JWT_REFRESH_INTERVAL_MS='3600000'

# =============================================================================
# EMAIL CONFIGURATION (Nodemailer)
# =============================================================================
# Used for sending password reset emails and notifications.
# Optional if you don't need email features, but required for password reset.

# How to set up Gmail for sending emails:
#   1. Go to your Google Account → Security
#   2. Enable 2-Step Verification (if not already enabled)
#   3. Go to "App passwords" section
#   4. Select "Mail" and your device
#   5. Generate app password
#   6. Copy the 16-character password (no spaces)
#   7. Use this password in MAILER_PASS
#
# Alternative email services:
#   - SendGrid: https://sendgrid.com/
#   - Mailgun: https://www.mailgun.com/
#   - AWS SES: https://aws.amazon.com/ses/

# Description: Email service provider
# Required: Only if using email features
# Values: Gmail | SendGrid | Mailgun | SES | custom SMTP
# Default: 'Gmail'
MAILER_SERVICE='Gmail'

# Description: Email address for sending emails
# Required: Only if using email features
# How to obtain: Your Gmail address or service email
MAILER_USER='your-email@gmail.com'

# Description: Email password or app-specific password
# Required: Only if using email features
# How to obtain: Gmail App Password (see instructions above)
# Security: Never use your regular Gmail password! Use app-specific password.
MAILER_PASS='your-16-character-app-password'

# =============================================================================
# APPLICATION URLs
# =============================================================================

# Description: Base URL of your application
# Required: Yes
# Why: Used for generating links, redirects, and CORS
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXT_PUBLIC_BASE_URL='http://localhost:3000'

# Description: Google OAuth Client ID (public, for client-side)
# Required: Only if using Google Sign-In
# Note: This is the same as GOOGLE_OAUTH_GOOGLE_CLIENT_ID but exposed to client
NEXT_PUBLIC_GOOGLE_CLIENT_ID='your-google-client-id.apps.googleusercontent.com'

# Description: Google OAuth redirect URI (public, for client-side)
# Required: Only if using Google Sign-In
# Note: This is the same as GOOGLE_OAUTH_GOOGLE_REDIRECT_URI but exposed to client
NEXT_PUBLIC_GOOGLE_REDIRECT_URI='http://localhost:3000/api/v1/auth/google/callback'

# =============================================================================
# CLOUDFLARE TURNSTILE (Bot Protection)
# =============================================================================
# Protects forms and authentication from bots and automated attacks.
# Highly recommended for production deployments.

# How to set up Cloudflare Turnstile:
#   1. Go to https://www.cloudflare.com/ and create a free account
#   2. Add your website to Cloudflare (or use free tier without DNS)
#   3. Go to Dashboard → Turnstile
#   4. Click "Add widget"
#   5. Enter a name (e.g., "Shrnkly")
#   6. Add your domain(s) under "Domains"
#      - For development: localhost
#      - For production: yourdomain.com
#   7. Choose "Invisible" or "Interactive" mode
#   8. Copy the Site Key and Secret Key
#   9. Paste them in the variables below

# Description: Turnstile site key (public, for client-side)
# Required: Yes (for bot protection on forms)
# How to obtain: Cloudflare Dashboard → Turnstile → Your widget
# Security: Safe to expose in client-side code
NEXT_PUBLIC_CF_TURNSTILE_SITE_KEY='0x4AAAAAAAXXXXXXXXXXXXXXXXXXX'

# Description: Turnstile secret key (server-side only)
# Required: Yes (for verifying Turnstile tokens)
# How to obtain: Cloudflare Dashboard → Turnstile → Your widget
# Security: CRITICAL - Never expose to client-side! Keep secret!
CF_TURNSTILE_SECRET_KEY='0x4AAAAAAAXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'

# Description: Turnstile verification endpoint URL
# Required: Yes
# Default: https://challenges.cloudflare.com/turnstile/v0/siteverify
# Note: Don't change this unless using a custom Turnstile implementation
CF_TURNSTILE_VERIFY_URL='https://challenges.cloudflare.com/turnstile/v0/siteverify'

# =============================================================================
# COOKIE CONFIGURATION
# =============================================================================
# Controls session cookie behavior and security settings.

# Description: Cookie secure flag
# Required: Yes
# Values: true | false
# Why: Ensures cookies only sent over HTTPS
# Development: false (for http://localhost)
# Production: true (REQUIRED for HTTPS)
# Security: Must be true in production!
COOKIE_SECURE='false'

# Description: Cookie SameSite attribute
# Required: Yes
# Values: strict | lax | none
# Why: Prevents CSRF attacks
# Recommended: 'lax' for most cases, 'strict' for higher security
# Note: If using 'none', COOKIE_SECURE must be 'true'
COOKIE_SAME_SITE='lax'

# Description: Cookie HttpOnly flag
# Required: Yes
# Values: true | false
# Why: Prevents JavaScript access (XSS protection)
# Security: Should always be 'true' for security
COOKIE_HTTP_ONLY='true'

# Description: Cookie maximum age in seconds
# Required: Yes
# Why: Controls session duration
# Recommended: 36000 (10 hours) to 86400 (24 hours)
COOKIE_MAX_AGE_IN_SECONDS='36000'

# Description: Name of the user session cookie
# Required: Yes
# Why: Identifies the cookie in browser
# Security: Can be any unique string, doesn't need to be secret
COOKIE_USER_TOKEN_NAME='user_token'

# =============================================================================
# TEXT SHARE CONFIGURATION
# =============================================================================
# Controls behavior of the text sharing feature.

# Description: Maximum content length for text shares in kilobytes
# Required: Yes
# Why: Prevents abuse and controls storage costs
# Recommended: 100 (KB) for most use cases
# Range: 1-1000 KB
TEXT_SHARE_MAX_CONTENT_LENGTH_KB='100'

# Description: Default expiration time for text shares in days
# Required: Yes
# Why: Automatically cleans up old shares to save storage
# Recommended: 30 days
# Range: 1-365 days
TEXT_SHARE_DEFAULT_EXPIRY_DAYS='30'

# Description: Cron schedule for cleanup job
# Required: Yes
# Why: Automatically deletes expired text shares
# Format: Standard cron syntax (minute hour day month weekday)
# Default: '0 2 * * *' (daily at 2:00 AM)
# Examples:
#   - '0 2 * * *' = Daily at 2:00 AM
#   - '0 0 * * 0' = Weekly on Sunday at midnight
#   - '0 0 1 * *' = Monthly on 1st at midnight
TEXT_SHARE_CLEANUP_CRON='0 2 * * *'

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. NEVER commit .env file to version control
# 2. Use different secrets for development and production
# 3. Rotate secrets regularly (especially JWT and OAuth keys)
# 4. Use environment-specific .env files:
#    - .env.development
#    - .env.staging
#    - .env.production
# 5. Consider using a secrets manager for production:
#    - Infisical (already configured in this project)
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Doppler
#
# For production deployment, consider using Infisical:
# https://infisical.com/
# See INFISICAL_COMMANDS.md for setup instructions
# =============================================================================
